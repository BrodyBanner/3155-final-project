{% extends "base.html" %}

{% block title %}
QuickCal | Schedules
{% endblock %}

{% block content %}
<div class="container mt-5">
  <div class="row">
      <div class="col">
        <h2 class="text-center">Schedules</h2>
      </div>
    </div>
    <div class="row">
      <div class="col">
        <div class="row mt-5">
          <div class="col">
              <table class="table table-bordered">
                  <thead>
                      <tr>
                          <th colspan="1" scope="col" style="background-color: #007bff; color: #fff; text-align: center;">Name</th>
                          <th colspan="1" scope="col" style="background-color: #007bff; color: #fff; text-align: center;">Description</th>
                          <th colspan="1" scope="col" style="background-color: #007bff; color: #fff; text-align: center;">Duration</th>
                          <th colspan="1" scope="col" style="background-color: #007bff; color: #fff; text-align: center;">Assignments</th>
                          <th colspan="1" scope="col" style="background-color: #007bff; color: #fff; text-align: center;"></th>
                      </tr>
                  </thead>
                  <tbody>
                      {% for schedule in schedules %}
                      <tr>
                          <td class="col text-center align-middle text-break">{{ schedule.title }}</td>
                          <td class="col text-center align-middle">{{ schedule.desc }}</td>
                          <td class="col text-center align-middle">{{ schedule.start_time }} | {{ schedule.start_date }} - {{ schedule.end_time }} | {{ schedule.end_date }}</td>
                          <td class="col text-center align-middle">
                            {% for assignment in schedule.assignments %}
                              <div class="row">
                                <div class="col-md-6">
                                  {{ assignment.title }}
                                </div>
                                <div class="col-md-6 text-md-right">
                                  {{ assignment.due }}
                                </div>
                              </div>
                            {% endfor %}
                          </td>
                          <td class="col text-center align-middle">
                              <form method="POST" action="/deleteSchedule">
                                  <input type="hidden" name="schedule_id" value="{{ schedule.id }}">
                                  <input type="submit" value="Delete">
                              </form>
                          </td>
                      </tr>
                      {% endfor %}
                  </tbody>
              </table>
      </div>
  </div>
  <form method="GET" action="/newSchedule" class="text-center">
    <input type="submit" value="New Schedule" class="mt-3">
  </form>
</div>
{% endblock %}